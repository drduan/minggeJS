// Generated by CoffeeScript 1.9.1
(function() {
  var doc_html, document, fs, jsdom, static_template, window;

  jsdom = require('jsdom');

  fs = require('fs');

  doc_html = fs.readFileSync(__dirname + '/index.html');

  static_template = fs.readFileSync(__dirname + '/static.template.html');

  document = jsdom.jsdom(doc_html);

  window = document.parentWindow;

  window.addEventListener('load', function() {
    var app_node, casua;
    casua = window.casua;
    app_node = new casua.Node(document.getElementById('doc-app'));
    return fs.writeFile(__dirname + '/../gh-pages/index.html', static_template.toString().replace('{{app_node}}', app_node.html()), function(err) {
      if (err) {
        console.log(err);
      }
      return process.exit();
    });
  });

}).call(this);
